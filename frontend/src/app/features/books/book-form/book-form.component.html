<div class="book-form-container">
  <p-toast></p-toast>
  <p-confirmDialog></p-confirmDialog>

  <div class="form-wrapper">
    <p-card
      header="Add New Book"
      subheader="Fill in the book details"
      styleClass="book-form-card"
    >
      <form (ngSubmit)="submit()" #bookForm="ngForm" class="book-form">
        <div class="form-field">
          <label for="title" class="required-field">Title</label>
          <input
            pInputText
            id="title"
            name="title"
            [(ngModel)]="book.title"
            required
            minlength="2"
            maxlength="200"
            placeholder="Enter book title"
            class="form-input"
          />
        </div>

        <div class="form-field">
          <label for="isbn" class="required-field">ISBN</label>
          <input
            pInputText
            id="isbn"
            name="isbn"
            [(ngModel)]="book.isbn"
            required
            maxlength="20"
            placeholder="Enter ISBN"
            class="form-input"
          />
        </div>

        <div class="form-field">
          <label for="publicationDate">Publication Date</label>
          <p-datepicker
            id="publicationDate"
            name="publicationDate"
            [(ngModel)]="book.publicationDate"
            dateFormat="dd/mm/yy"
            showIcon
            [maxDate]="today"
            inputId="book-publication-date-input"
            styleClass="form-input"
          ></p-datepicker>
        </div>

        <div class="form-field">
          <label for="authorId" class="required-field">Author ID</label>
          <input
            pInputText
            id="authorId"
            name="authorId"
            type="number"
            [(ngModel)]="book.authorId"
            required
            placeholder="Enter Author ID"
            class="form-input"
          />
        </div>

        <div class="form-actions">
          <button
            pButton
            type="button"
            label="Cancel"
            icon="pi pi-times"
            class="p-button-secondary p-button-outlined"
            (click)="onCancel()"
          ></button>

          <button
            pButton
            type="submit"
            label="Save Book"
            icon="pi pi-check"
            class="p-button-primary"
            [disabled]="!bookForm.valid || isSubmitting"
            [loading]="isSubmitting"
          ></button>
        </div>
      </form>
    </p-card>
  </div>
</div>
